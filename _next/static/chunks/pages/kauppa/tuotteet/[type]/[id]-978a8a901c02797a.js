(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[610],{190:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/kauppa/tuotteet/[type]/[id]",function(){return s(9760)}])},9760:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSG:function(){return x},default:function(){return Tuote}});var r=s(5893),i=s(7294),c=s(6650),a=s(9312),n=s(259),o=s(2702),l=s(5845),d=s(6224),u=s.n(d),p=s(2947),addToCartButton=e=>{let{product:t}=e,{state:s,dispatch:c}=(0,i.useContext)(n.I),a=s.cart.find(e=>e.product.id===t.id),d=a&&a.amount>0;return(0,r.jsxs)("div",{children:[!d&&(0,r.jsx)("button",{className:u()["add-to-cart"],onClick:function(){c((0,o.mc)(t.id)),(0,p.Am)(t.name+" lis\xe4tty ostoskoriin",{type:"success"})},children:"Lis\xe4\xe4 ostoskoriin"}),d&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{className:u().light,children:[a.amount," ostoskorissa"]}),(0,r.jsx)(l.Z,{onIncrement:function(){c((0,o.$K)(t.id)),(0,p.Am)(t.name+" lis\xe4tty ostoskoriin",{type:"success"})},onDecrement:function(){c((0,o.ii)(t.id)),(0,p.Am)(t.name+" poistettu ostoskorista",{type:"success"})}})]})]})},_=s(7318),largeProduct=e=>{let{product:t}=e;return(0,r.jsxs)("div",{className:u()["large-product"],children:[(0,r.jsx)("h2",{children:t.name}),(0,r.jsx)(_.Z,{product:t,height:200,width:400}),(0,r.jsxs)("div",{className:u()["large-product-center"],children:[t.sale&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:u().price,children:(0,a.P)(t.price)}),(0,r.jsx)("div",{className:u().sale,children:t.originalPrice&&(0,r.jsx)("p",{className:u()["old-price"],children:(0,a.P)(t.originalPrice)})})]}),!t.sale&&(0,r.jsx)("p",{className:u().price,children:(0,a.P)(t.price)}),(0,r.jsx)(addToCartButton,{product:t})]}),(0,r.jsx)("section",{className:u().emphasize,children:(0,r.jsx)("p",{className:u()["product-description"],children:t.description})})]})},m=s(3016),h=s(4436),x=!0;function Tuote(e){let{product:t,similar:s}=e;return s=s.sort(()=>Math.random()>.5?1:-1),(0,r.jsxs)(c.Z,{title:"Kauppa",description:t.name,className:u()["store-page"],children:[(0,r.jsx)(h.Z,{}),(0,r.jsxs)("div",{className:u()["product-page"],children:[(0,r.jsx)("div",{className:u()["product-page-main"],children:(0,r.jsx)(largeProduct,{product:t})}),(0,r.jsxs)("aside",{className:u()["similar-products-aside"],children:[(0,r.jsx)("h2",{children:"Samantyyppisi\xe4 tuotteita:"}),(0,r.jsx)("div",{className:u()["aside-products-list"],children:s&&s.map(e=>(0,r.jsx)(m.Z,{product:e},e.id))})]})]})]})}},5845:function(e,t,s){"use strict";var r=s(5893),i=s(6224),c=s.n(i);t.Z=e=>{let{onIncrement:t,onDecrement:s,customClass:i}=e;return(0,r.jsxs)("div",{className:i?"".concat(c()["increment-decrement"]," ").concat(i):c()["increment-decrement"],children:[(0,r.jsx)("button",{onClick:s,children:"-"}),(0,r.jsx)("button",{onClick:t,children:"+"})]})}},7318:function(e,t,s){"use strict";var r=s(5893),i=s(6224),c=s.n(i);t.Z=e=>{let{product:t,height:s,width:i}=e;if(!t.image)return(0,r.jsx)("img",{src:"/store/placeholder.png",height:s,width:i});let a="/store/"+t.type+"/"+t.image;return(0,r.jsx)("div",{className:c()["product-image"],children:(0,r.jsx)("img",{src:a,height:s,width:i,alt:""})})}},3016:function(e,t,s){"use strict";var r=s(5893),i=s(9312),c=s(6224),a=s.n(c),n=s(1664),o=s.n(n),l=s(7318);t.Z=e=>{let{product:t}=e;return(0,r.jsxs)("div",{className:a()["small-product"],children:[(0,r.jsx)(o(),{href:"/kauppa/tuotteet/"+t.type+"/"+t.id,children:(0,r.jsx)("h3",{children:t.name})}),(0,r.jsx)(l.Z,{product:t,height:100,width:200}),(0,r.jsx)("p",{className:a()["product-description"],children:t.description}),t.sale&&(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:a().price,children:(0,i.P)(t.price)}),(0,r.jsx)("div",{className:a().sale,children:t.originalPrice&&(0,r.jsx)("p",{className:a()["old-price"],children:(0,i.P)(t.originalPrice)})})]}),!t.sale&&(0,r.jsx)("p",{className:a().price,children:(0,i.P)(t.price)})]})}},4436:function(e,t,s){"use strict";s.d(t,{Z:function(){return StoreNavigation}});var r=s(5893),i=s(7294),c=s(1163),a=s(1664),n=s.n(a),o=s(6224),l=s.n(o),d=s(259),u=s(9312),cartInfo=()=>{let{state:e}=(0,i.useContext)(d.I),t=e.cart.reduce((e,t)=>e+t.amount,0);return(0,r.jsx)("div",{className:l()["cart-info"],children:t>0&&(0,r.jsx)("div",{children:(0,r.jsx)("span",{className:l().price,children:(0,u.P)(e.cart.reduce((e,t)=>e+t.amount*t.product.price,0))})})})},p=s(6786);function ChildrenBlur(e){let{children:t,onBlur:s,...c}=e,a=(0,i.useCallback)(e=>{let t=e.currentTarget;requestAnimationFrame(()=>{t.contains(document.activeElement)||s()})},[s]);return(0,r.jsx)("div",{...c,onBlur:a,children:t})}let _=[...p.R.values()];var searchBar=()=>{let[e,t]=(0,i.useState)(""),[s,a]=(0,i.useState)([]),[n,o]=(0,i.useState)(!1),d=(0,c.useRouter)();return(0,r.jsxs)(ChildrenBlur,{className:l()["search-bar"],onFocus:()=>o(!0),onBlur:()=>setTimeout(()=>o(!1),200),children:[(0,r.jsx)("input",{onClick:()=>o(!0),type:"text",value:e,onChange:s=>{t(s.target.value),a(_.filter(t=>t.name.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)))},placeholder:"haku"}),n&&e.length>2&&s.length>0&&(0,r.jsx)("div",{className:l()["search-results"],children:s.map(e=>(0,r.jsx)("a",{onClick:s=>{s.preventDefault(),t(""),d.push("/kauppa/tuotteet/"+e.type+"/"+e.id)},tabIndex:0,children:e.name},e.id))}),n&&e.length>2&&0===s.length&&(0,r.jsx)("div",{className:l()["search-results"],children:(0,r.jsx)("span",{children:"ei l\xf6yt\xf6j\xe4"})})]})};function StoreNavigation(){let e=(0,c.useRouter)(),t=e.asPath.slice(1).split("/").map((e,t,s)=>"/".concat(s.slice(0,t+1).join("/"))).slice(0,-1),s=!["/kauppa/ostoskori","/kauppa/kassa"].includes(e.route);return(0,r.jsxs)("div",{className:l()["navigation-container"],children:[(0,r.jsx)(searchBar,{}),(0,r.jsxs)("div",{className:l().navigation+" "+l().breadcrumbs,children:[t&&t.map((e,t)=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n(),{href:e,legacyBehavior:!0,children:(0,r.jsx)("a",{className:l().crumb,children:e.split("/")[e.split("/").length-1]})},t),(0,r.jsx)("span",{className:l()["crumb-arrow"],children:"→"})]})),(0,r.jsx)("div",{className:l().right+" "+l().crumb+" "+l().last,children:s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n(),{href:"/kauppa/ostoskori",children:"Ostoskoriin"}),(0,r.jsx)(cartInfo,{})]})})]})]})}},9312:function(e,t,s){"use strict";s.d(t,{P:function(){return centsToEur}});let centsToEur=e=>(e/100).toFixed(2)+"€"},6224:function(e){e.exports={"store-page":"store_store-page__6CuF3",crumb:"store_crumb__0smS2",breadcrumbs:"store_breadcrumbs__RAI_E","crumb-arrow":"store_crumb-arrow__cLZmC",last:"store_last__C4TuE",price:"store_price__ld1z5","old-price":"store_old-price__K3_FT","small-product":"store_small-product__mjChJ",sale:"store_sale__LXLw_",emphasize:"store_emphasize__DS1Of","product-description":"store_product-description__9WRI4","search-bar":"store_search-bar__IDe_C","search-results":"store_search-results__1N4Kx","navigation-container":"store_navigation-container__stKWa","large-product":"store_large-product__f714R","large-product-center":"store_large-product-center__nSvBf","aside-products-list":"store_aside-products-list__OqDTX","products-list":"store_products-list__DvFgD","cart-product":"store_cart-product__HqT2X","cart-products-list":"store_cart-products-list__OH7Cx","clear-cart-button":"store_clear-cart-button__bZs1H",navigation:"store_navigation__ZEmK8",right:"store_right__O0C4J","product-page":"store_product-page__3yLZQ","product-page-main":"store_product-page-main__SunwD","type-page":"store_type-page__f13UK","open-type-link":"store_open-type-link__gfhZk","similar-products-aside":"store_similar-products-aside__QU7be","cart-info":"store_cart-info__Qnepk","product-image":"store_product-image___bbEs","increment-decrement":"store_increment-decrement__jRWm1",inline:"store_inline__sL_14","add-to-cart":"store_add-to-cart__r3U4g",bottom:"store_bottom__23FQz",light:"store_light__v_nn1",redeem:"store_redeem__c66NX"}}},function(e){e.O(0,[523,112,902,650,774,888,179],function(){return e(e.s=190)}),_N_E=e.O()}]);