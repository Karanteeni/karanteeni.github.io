(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{9259:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/kauppa/ostoskori",function(){return s(8740)}])},2344:function(e,t,s){"use strict";var r=s(5893);t.Z=e=>{let{heading:t,lead:s,children:a}=e;return(0,r.jsxs)("div",{className:"main-heading",children:[(0,r.jsx)("h1",{children:t}),(0,r.jsx)("p",{className:"lead",children:s}),a]})}},8740:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ostoskori}});var r=s(5893),a=s(2344),n=s(6650),i=s(6224),c=s.n(i),o=s(7294),l=s(259),u=s(2702),d=s(2947),clearCartButton=()=>{let{dispatch:e}=(0,o.useContext)(l.I);return(0,r.jsx)("div",{className:c()["clear-cart-button"],children:(0,r.jsx)("button",{onClick:function(){e((0,u.r4)()),(0,d.Am)("Ostoskori tyhjennetty",{type:"success"})},children:"Tyhjenn\xe4 ostoskori"})})},p=s(4436),m=s(9312),h=s(2980),components_rickRoll=()=>(0,r.jsx)("iframe",{style:{position:"fixed",inset:0,width:"100vw",height:"100vh"},src:"https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1&controls=0",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),x=s(5845),cartProductButton=e=>{let{id:t}=e,{state:s,dispatch:a}=(0,o.useContext)(l.I),n=s.cart.find(e=>e.product.id===t),i=n&&n.amount>0;return(0,r.jsxs)("div",{children:[!i&&(0,r.jsx)("button",{onClick:()=>a((0,u.mc)(t)),children:"Lis\xe4\xe4 ostoskoriin"}),i&&(0,r.jsxs)("div",{children:[n.amount," ostoskorissa"," ",(0,r.jsx)(x.Z,{customClass:c().inline,onIncrement:()=>a((0,u.$K)(t)),onDecrement:()=>a((0,u.ii)(t))})]})]})},_=s(1664),j=s.n(_),cartProduct=e=>{let{cartProduct:t}=e;return(0,r.jsxs)("div",{className:c()["cart-product"],children:[(0,r.jsx)(j(),{href:"/kauppa/tuotteet/"+t.product.type+"/"+t.product.id,children:(0,r.jsx)("h3",{children:t.product.name})}),(0,r.jsxs)("p",{children:[(0,m.P)(t.product.price*t.amount)," ",(0,r.jsxs)("span",{className:c().light,children:["(",t.amount,"*",(0,m.P)(t.product.price),")"]})]}),(0,r.jsx)(cartProductButton,{id:t.product.id})]})},ostoskori=()=>{let[e,t]=(0,o.useState)(!1),[s,i]=(0,o.useState)(""),[u,x]=(0,o.useState)(!1),{state:_}=(0,o.useContext)(l.I),j=_.cart.reduce((e,t)=>e+t.amount,0),k=_.cart.filter(e=>e.amount>1),v=_.cart.some(e=>e.amount>0&&e.product.type===h.k.PLAYTIME),g=_.cart.some(e=>e.amount>0&&(e.product.type===h.k.PLAYTIME||e.product.type===h.k.ITEM)),f=v&&_.cart.reduce((e,t)=>t.product.playtime?e+t.product.playtime*t.amount:e,0),y=f&&f/1e3/60/60;return(0,r.jsxs)(n.Z,{title:"Ostoskori",description:"Karanteenin verkkokaupan ostoskori",className:c()["store-page"],children:[(0,r.jsx)("link",{rel:"preload",href:"https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1&controls=0",as:"document"}),(0,r.jsx)(p.Z,{}),(0,r.jsx)(a.Z,{heading:"Ostoskori"}),j<=0&&(0,r.jsx)("p",{children:"Ei tuotteita ostoskorissa. K\xe4y shoppailemassa jotakin."}),j>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:"Tuotteet"}),(0,r.jsx)("div",{className:c()["cart-products-list"],children:j>0&&_.cart.filter(e=>e.amount>0).map(e=>(0,r.jsx)(cartProduct,{cartProduct:e},e.product.id))}),(0,r.jsx)(clearCartButton,{}),(0,r.jsxs)("section",{className:c().emphasize,children:[(0,r.jsx)("fieldset",{children:(0,r.jsxs)("label",{children:[(0,r.jsx)("span",{children:"Lunasta etukoodi"}),(0,r.jsx)("input",{name:"playername",value:s,onChange:e=>i(e.target.value)})]})}),(0,r.jsx)("button",{className:c().redeem,onClick:()=>void("kara22"===s.toLowerCase()?((0,d.Am)("20% etukoodi 'kara22' on nyt k\xe4yt\xf6ss\xe4",{type:"success"}),t(!0),i("")):(0,d.Am)("Virheellinen etukoodi",{type:"error"})),children:"Lunasta"})]}),(0,r.jsx)("h3",{children:"Yhteens\xe4"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:c().price,children:(0,m.P)(_.cart.reduce((e,t)=>e+t.amount*t.product.price,0))})," ","(sis alv 24%)",e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:"Alennusten j\xe4lkeen"}),(0,r.jsx)("span",{className:c().price,children:(0,m.P)(.8*_.cart.reduce((e,t)=>e+t.amount*t.product.price,0))}),(0,r.jsx)("p",{className:c().light,children:"K\xe4yt\xf6ss\xe4 20% alennuskoodi 'kara22'"})]})]}),k.length>0&&(0,r.jsxs)("section",{className:c().emphasize,children:[(0,r.jsx)("p",{children:"Huomasithan, ett\xe4 sinulla on seuraavia tuotteita useampi kappale ostoskorissa"}),(0,r.jsx)("ul",{children:k.map(e=>(0,r.jsxs)("li",{style:{color:"black"},children:[e.product.name," (",e.amount," kpl)"]},e.product.id))})]}),g&&(0,r.jsxs)("section",{className:c().emphasize,children:[(0,r.jsx)("p",{children:"Olet ostamassa pelin sis\xe4isi\xe4 tuotteita. Tarvitsemme minecraft k\xe4ytt\xe4j\xe4nimesi, jotta saamme annettua tuotteet k\xe4ytt\xe4j\xe4llesi."}),v&&(0,r.jsxs)("p",{children:["Olet ostamassa yhteens\xe4"," ",y>24?(y/24).toFixed(2)+" p\xe4iv\xe4\xe4":String(y)+" tuntia"," ","peliaikaa."]}),(0,r.jsx)("fieldset",{children:(0,r.jsxs)("label",{className:"required",children:[(0,r.jsx)("span",{children:"Minecraft k\xe4ytt\xe4j\xe4nimi"}),(0,r.jsx)("input",{name:"playername"})]})})]}),(0,r.jsx)("section",{className:c().emphasize,children:(0,r.jsx)("p",{children:"Seuraavalla sivulla p\xe4\xe4set valitsemaan maksutavan sek\xe4 t\xe4ytt\xe4m\xe4\xe4n yhteystiedot, sek\xe4 valitsemaan tuotteiden toimitustavan."})}),(0,r.jsx)("button",{className:c()["pay-button"],onClick:()=>x(!0),children:"Siirry maksamaan"}),u&&(0,r.jsx)(components_rickRoll,{})]})]})}},5845:function(e,t,s){"use strict";var r=s(5893),a=s(6224),n=s.n(a);t.Z=e=>{let{onIncrement:t,onDecrement:s,customClass:a}=e;return(0,r.jsxs)("div",{className:a?"".concat(n()["increment-decrement"]," ").concat(a):n()["increment-decrement"],children:[(0,r.jsx)("button",{onClick:s,children:"-"}),(0,r.jsx)("button",{onClick:t,children:"+"})]})}},4436:function(e,t,s){"use strict";s.d(t,{Z:function(){return StoreNavigation}});var r=s(5893),a=s(7294),n=s(1163),i=s(1664),c=s.n(i),o=s(6224),l=s.n(o),u=s(259),d=s(9312),cartInfo=()=>{let{state:e}=(0,a.useContext)(u.I),t=e.cart.reduce((e,t)=>e+t.amount,0);return(0,r.jsx)("div",{className:l()["cart-info"],children:t>0&&(0,r.jsx)("div",{children:(0,r.jsx)("span",{className:l().price,children:(0,d.P)(e.cart.reduce((e,t)=>e+t.amount*t.product.price,0))})})})},p=s(6786);function ChildrenBlur(e){let{children:t,onBlur:s,...n}=e,i=(0,a.useCallback)(e=>{let t=e.currentTarget;requestAnimationFrame(()=>{t.contains(document.activeElement)||s()})},[s]);return(0,r.jsx)("div",{...n,onBlur:i,children:t})}let m=[...p.R.values()];var searchBar=()=>{let[e,t]=(0,a.useState)(""),[s,i]=(0,a.useState)([]),[c,o]=(0,a.useState)(!1),u=(0,n.useRouter)();return(0,r.jsxs)(ChildrenBlur,{className:l()["search-bar"],onFocus:()=>o(!0),onBlur:()=>setTimeout(()=>o(!1),200),children:[(0,r.jsx)("input",{onClick:()=>o(!0),type:"text",value:e,onChange:s=>{t(s.target.value),i(m.filter(t=>t.name.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)))},placeholder:"haku"}),c&&e.length>2&&s.length>0&&(0,r.jsx)("div",{className:l()["search-results"],children:s.map(e=>(0,r.jsx)("a",{onClick:s=>{s.preventDefault(),t(""),u.push("/kauppa/tuotteet/"+e.type+"/"+e.id)},tabIndex:0,children:e.name},e.id))}),c&&e.length>2&&0===s.length&&(0,r.jsx)("div",{className:l()["search-results"],children:(0,r.jsx)("span",{children:"ei l\xf6yt\xf6j\xe4"})})]})};function StoreNavigation(){let e=(0,n.useRouter)(),t=e.asPath.slice(1).split("/").map((e,t,s)=>"/".concat(s.slice(0,t+1).join("/"))).slice(0,-1),s=!["/kauppa/ostoskori","/kauppa/kassa"].includes(e.route);return(0,r.jsxs)("div",{className:l()["navigation-container"],children:[(0,r.jsx)(searchBar,{}),(0,r.jsxs)("div",{className:l().navigation+" "+l().breadcrumbs,children:[t&&t.map((e,t)=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c(),{href:e,legacyBehavior:!0,children:(0,r.jsx)("a",{className:l().crumb,children:e.split("/")[e.split("/").length-1]})},t),(0,r.jsx)("span",{className:l()["crumb-arrow"],children:"→"})]})),(0,r.jsx)("div",{className:l().right+" "+l().crumb+" "+l().last,children:s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c(),{href:"/kauppa/ostoskori",children:"Ostoskoriin"}),(0,r.jsx)(cartInfo,{})]})})]})]})}},9312:function(e,t,s){"use strict";s.d(t,{P:function(){return centsToEur}});let centsToEur=e=>(e/100).toFixed(2)+"€"},6224:function(e){e.exports={"store-page":"store_store-page__6CuF3",crumb:"store_crumb__0smS2",breadcrumbs:"store_breadcrumbs__RAI_E","crumb-arrow":"store_crumb-arrow__cLZmC",last:"store_last__C4TuE",price:"store_price__ld1z5","old-price":"store_old-price__K3_FT","small-product":"store_small-product__mjChJ",sale:"store_sale__LXLw_",emphasize:"store_emphasize__DS1Of","product-description":"store_product-description__9WRI4","search-bar":"store_search-bar__IDe_C","search-results":"store_search-results__1N4Kx","navigation-container":"store_navigation-container__stKWa","large-product":"store_large-product__f714R","large-product-center":"store_large-product-center__nSvBf","aside-products-list":"store_aside-products-list__OqDTX","products-list":"store_products-list__DvFgD","cart-product":"store_cart-product__HqT2X","cart-products-list":"store_cart-products-list__OH7Cx","clear-cart-button":"store_clear-cart-button__bZs1H",navigation:"store_navigation__ZEmK8",right:"store_right__O0C4J","product-page":"store_product-page__3yLZQ","product-page-main":"store_product-page-main__SunwD","type-page":"store_type-page__f13UK","open-type-link":"store_open-type-link__gfhZk","similar-products-aside":"store_similar-products-aside__QU7be","cart-info":"store_cart-info__Qnepk","product-image":"store_product-image___bbEs","increment-decrement":"store_increment-decrement__jRWm1",inline:"store_inline__sL_14","add-to-cart":"store_add-to-cart__r3U4g",bottom:"store_bottom__23FQz",light:"store_light__v_nn1",redeem:"store_redeem__c66NX"}}},function(e){e.O(0,[523,112,902,650,774,888,179],function(){return e(e.s=9259)}),_N_E=e.O()}]);